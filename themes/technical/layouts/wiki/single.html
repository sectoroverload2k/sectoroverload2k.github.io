{{ define "main" }}
<div class="container-narrow">
  <!-- Breadcrumb -->
  <div class="breadcrumb">
    <a href="{{ .Site.BaseURL }}">Home</a> /
    <a href="{{ "wiki/" | relURL }}">Wiki</a>
    {{- with .Parent }}
      {{- if ne .Title "Wiki" }}
      / <a href="{{ .Permalink }}">{{ .Title }}</a>
      {{- end }}
    {{- end }}
    / {{ .Title }}
  </div>

  <article class="article">
    <header class="article-header" style="margin-bottom: 3rem; padding-bottom: 2rem; border-bottom: 2px solid var(--color-border);">
      <h1 class="article-title" style="font-size: 2.75rem; margin-bottom: 1.5rem;">{{ .Title }}</h1>
      <div class="article-meta">
        <div class="meta-item">
          <span>{{ .Date.Format "January 2006" }}</span>
        </div>
        {{- with .ReadingTime }}
        <div class="meta-item">
          <span>{{ . }} min read</span>
        </div>
        {{- end }}
      </div>
      {{- with .Params.tags }}
      <div class="tags" style="margin-top: 1.5rem;">
        {{- range . }}
        <span class="tag">{{ . }}</span>
        {{- end }}
      </div>
      {{- end }}
    </header>

    {{- if .Params.toc }}
    <!-- Table of Contents -->
    <nav class="toc" style="background: var(--color-bg-secondary); border: 1px solid var(--color-border); border-radius: 0.375rem; padding: 1.5rem; margin-bottom: 2rem;">
      <h4 style="margin: 0 0 1rem 0; font-size: 1rem;">Table of Contents</h4>
      {{ .TableOfContents }}
    </nav>
    {{- end }}

    <div class="content">
      {{ .Content }}
    </div>
  </article>
</div>

<footer class="footer" style="margin-top: 3rem;">
  <div class="container">
    <a href="{{ "wiki/" | relURL }}" class="back-link">&larr; Back to Wiki</a>
  </div>
</footer>
{{ end }}
