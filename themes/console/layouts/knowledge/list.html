{{ define "main" }}
<header>
  <h1 class="page-title"><i class="bi bi-book"></i> Knowledge Base</h1>
  <p class="page-subtitle">Quick references, cheat sheets, and technical notes</p>
</header>

{{ with .Content }}
<div class="article-content">
  {{ . }}
</div>
{{ end }}

<!-- Tag cloud -->
{{ with .Site.Taxonomies.tags }}
<div class="tag-list" style="margin-bottom: 2rem;">
  {{ range . }}
  <a href="{{ .Page.Permalink }}" class="tag">
    <i class="bi bi-tag icon"></i> {{ .Page.Title }} ({{ len .Pages }})
  </a>
  {{ end }}
</div>
{{ end }}

<div class="card-grid">
  {{ range .Pages.ByTitle }}
  <a href="{{ .Permalink }}" class="card">
    <h3><i class="bi bi-lightbulb"></i> {{ .Title }}</h3>
    <p>{{ with .Description }}{{ . }}{{ else }}{{ .Summary | truncate 100 }}{{ end }}</p>
    <div class="card-meta">
      {{ with .Params.tags }}
      <div class="tag-list">
        {{ range first 3 . }}
        <span class="tag">{{ . }}</span>
        {{ end }}
      </div>
      {{ end }}
    </div>
  </a>
  {{ end }}
</div>
{{ end }}
