{{ define "main" }}
{{ partial "breadcrumb.html" . }}

<article class="wiki-article">
  <h1 class="page-title"><i class="bi bi-file-text"></i> {{ .Title }}</h1>
  {{ with .Description }}
  <p class="page-subtitle">{{ . }}</p>
  {{ end }}
  {{ if or .Date .Params.tags }}
  <p class="page-meta">
    {{ if .Date }}
    <time datetime="{{ .Date.Format "2006-01-02" }}">Last updated: {{ .Date.Format "January 2, 2006" }}</time>
    {{ end }}
    {{ with .Params.tags }}
    <span class="separator">|</span>
    {{ range . }}
    <a href="{{ "tags/" | relURL }}{{ . | urlize }}/" class="tag">{{ . }}</a>
    {{ end }}
    {{ end }}
  </p>
  {{ end }}

  <!-- Table of Contents -->
  {{ if .TableOfContents }}
  <nav class="toc">
    <h4><i class="bi bi-list-ul"></i> Contents</h4>
    {{ .TableOfContents }}
  </nav>
  {{ end }}

  <div class="article-content">
    {{ .Content }}
  </div>

  <!-- Related Articles -->
  {{ $related := .Site.RegularPages.Related . | first 3 }}
  {{ with $related }}
  <aside class="related-articles">
    <h4><i class="bi bi-link-45deg"></i> Related Articles</h4>
    <ul>
      {{ range . }}
      <li><a href="{{ .Permalink }}">{{ .Title }}</a></li>
      {{ end }}
    </ul>
  </aside>
  {{ end }}
</article>
{{ end }}
